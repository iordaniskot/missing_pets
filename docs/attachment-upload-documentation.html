<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attachment Upload Documentation - Missing Pets</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.2.12/marked.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; color: #333; }
        h1, h2, h3 { color: #2c3e50; }
        h1 { border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        code { background-color: #f4f4f4; padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', Courier, monospace; }
        pre code { display: block; padding: 10px; background-color: #2d2d2d; color: #f8f8f2; border-radius: 4px; white-space: pre-wrap; word-wrap: break-word; }
        .container { max-width: 900px; margin: auto; }
        nav { background-color: #f8f8f8; padding: 10px; border-radius: 5px; margin-bottom: 20px; }
        nav ul { list-style-type: none; padding: 0; }
        nav ul li { display: inline; margin-right: 15px; }
        nav ul li a { text-decoration: none; color: #007bff; }
        nav ul li a:hover { text-decoration: underline; }
        /* Styles for Markdown content */
        #markdown-content h1, #markdown-content h2, #markdown-content h3, #markdown-content h4, #markdown-content h5, #markdown-content h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
        }
        #markdown-content h3 { font-size: 1.25em; } /* Match README style for this heading level */
        #markdown-content p { margin-bottom: 16px; }
        #markdown-content ul { padding-left: 2em; margin-bottom: 16px; }
        #markdown-content li { margin-bottom: .25em; }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="complete-api-documentation.html">Complete API Docs</a></li>
            </ul>
        </nav>

        <h1>Attachment Upload Documentation</h1>

        <div id="markdown-content">
            <!-- Markdown content will be injected here -->
        </div>
    </div>

    <script>
        const markdownText = `
### File Upload Details
- Files are uploaded via \`multipart/form-data\`.
- The field name for file(s) should be \`attachments\`.
- Uploaded files are stored in the \`/attachments\` directory on the server and accessible via \`/attachments/:filename\` (e.g., \`http://localhost:3000/attachments/yourfile.jpg\`). The \`CDN_BASE_URL\` is used to construct the full URL in API responses.

#### Example: Pet Creation with Attachment (Conceptual)
When creating a pet (POST /pets) or updating a pet (PATCH /pets/:id) that includes a photo, the request would be \`multipart/form-data\`.

**Form Fields:**
- \`name\`: "Buddy"
- \`breed\`: "Golden Retriever"
- \`attachments\`: (file data for buddy.jpg)

#### Example: Report Creation with Attachment (Conceptual)
When creating a report (POST /reports) or updating a report (PATCH /reports/:id) that includes a photo, the request would be \`multipart/form-data\`.

**Form Fields:**
- \`pet\`: "pet_id_here"
- \`status\`: "lost"
- \`description\`: "Lost near Central Park."
- \`location[type]\`: "Point"
- \`location[coordinates][0]\`: -73.96543
- \`location[coordinates][1]\`: 40.7829
- \`attachments\`: (file data for report_photo.jpg)

The server-side handling of these uploads is managed by the Multer middleware configured in \`middleware/attachment-upload.js\`.
        \`;

        document.getElementById('markdown-content').innerHTML = marked.parse(markdownText);
        hljs.highlightAll();
    </script>
</body>
</html>
